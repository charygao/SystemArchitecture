## 2.1操作系统的类型与结构

操作系统是计算机系统中最基本的系统软件。

基本类型有：批处理操作系统、分时操作系统和实时操作系统

操作系统主要是对处理器、存储器、文件、设备和作业进行管理

### 2.1.1操作系统的定义

是计算机系统中的核心系统软件，负责管理和控制计算机系统中的硬件和软件资源，在计算机与用户之间起接口的作用。

操作系统为用户提供的接口表现形式一般为：命令、菜单、窗口之类的。

操作系统为应用程序提供的接口为API。

### 2.1.2操作系统分类

按照操作系统的功能划分，操作系统的基本类型有批处理操作系统、分时操作系统、实时操作系统、网络操作系统、分布式操作系统、嵌入式操作系统、微内核操作系统等。

## 2.2操作系统基本原理

操作系统的主要功能是进行处理机与进程管理、存储管理、设备管理、文件管理和作业管理的工作

### 2.2.1进程管理

处理机是计算机系统的核心资源。操作系统的功能之一就是处理机管理

处理机的充分利用有利于系统效率的大大提高；处理机管理的好坏直接影响整个系统的运行效率；处理机管理控制着系统中的并发活动，影响整个系统的是否可用

进程是独立运行的基本单位，是分配资源的基本单位，处理机管理也被称为进程管理

在多道程序系统中，资源共享，程序并发执行或并行执行

进程的三种状态：就绪状态，执行状态，阻塞状态（等待状态/睡眠状态）

### 2.2.2存储管理

系统中内存的使用一般分为两部分，一部分为系统空间，存放操作系统本身及相关的系统程序，另一部分为用户空间，存放用户的程序和数据

存储管理主要是指对内存储器的管理，负责对内存的分配和回收、内存的保护和内存的扩充。存储管理的目的是尽量提高内存的使用效率。

从单一连续区管理 到 分区存储管理 到 段页式管理

**页式存储管理**

把程序的逻辑空间和内存的物理空间按照同样的大小划分为若干页面

常用的页面调度算法有：最优（OPT）算法，随机（RAND）算法，先进先出
（FIFO）算法，最近最少使用（LRU）算法

**段式存储管理**

把用户作业按逻辑意义上有完整意义的段来划分，并以段为单位作为内外存交换的空间尺度

**段页式存储管理**

根据程序模块分段，段内再分页，内存被划分成定长的页。

### 2.2.3设备管理

**数据传输控制方式**

选择和衡量控制方式的原则是：1.数据传送速度足够高，能满足用户的需要但又不丢失数据。2.系统开销小，所需的处理控制程序少。3.能充分发挥硬件资源的能力，使得I/O设备尽量处于使用状态中，而CPU等待时间少

控制方式主要有：

1.程序控制方式，2.中断方式，3.直接存储访问，4.通道方式

**虚设备与SPOOLING技术**

采用假脱技术，可以将低速的独占设备改造成一种可共享的设备，而且一台物理设备可以对应若干台虚拟的同类设备。SPOOLING系统必须有高速、大容量并且可随机存取的外存

### 2.2.4文件管理

功能包括：建立、修改、删除文件；按文件名访问文件；决定文件信息的存放位置、存放形式及存取权限；管理文件间的联系及提供对文件的共享、保护和保密等。

文件的保护、保密实际上是用户对文件的存取权限控制问题。一般为文件的存取设置两级控制：第一级是访问者的识别，规定那些人可以访问，第二级是存取权限的识别，访问者对文件执行何种操作。

**文件的逻辑结构**

一般文件的逻辑结构分为两种：无结构的字符流文件和有结构的记录文件

记录文件由记录组成，即文件内的信息划分为多个记录，以记录为单位组织和使用信息

记录文件有顺序文件、索引顺序文件、索引文件和直接文件

**文件的物理机构**

文件的物理结构涉及文件存储设备的组块策略和文件分配策略，决定文件信息在存储设备上的存储位置。

常用的文件分配策略有：顺序分配（连续分配）、链接分配（串联分配）、索引分配

**文件存储设备管理**

文件存储设备管理实质上是对空闲块的组织和管理问题，包括空闲块的组织，空闲块的分配与空闲块的回收等问题。

管理方法：索引法、链接法、位示图法

**树型目录结构**

根目录隐含于一个硬盘的一个分区中，根目录在最顶层。

路径是指从根目录或者当前目录开始到访问对象，在目录树中路径的所有目录的序列。

### 2.2.5作业管理

在批处理系统中，作业是占据内存的基本单位。

用户的作业可以通过直接的范式，由用户自己按照作业步顺序操作，称为联机方式

通过间接的方式，由用户率先编写的作业步依次执行的说明，一次交给操作系统，由系统按照说明依次处理，称为脱机方式

**作业状态及其转换**

作业的4个状态：提交状态（作业由输入设备进入外存储器），后备状态（系统为该作业建立一个作业控制块），执行状态（后备作业被作业调度程序选中并分配了必要的资源进入内存，建立了相应的进程），完成状态（作业正常结束，资源尚未被系统回收）

**用户接口**

用户接口也称为用户界面，一种智用户与操作系统交互的途径和通道，即操作系统的接口；另一种是指这种交互环境的控制方式，即操作环境

操作系统的接口：可分为命令接口（包含键盘命令和作业控制命令）和程序接口（包含编程接口或系统调用）。

操作环境：支持命令接口和程序接口。